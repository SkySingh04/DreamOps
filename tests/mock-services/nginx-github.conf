server {
    listen 80;
    server_name localhost;
    
    root /usr/share/nginx/html;
    
    # Health check endpoint
    location = /healthz {
        return 200 'ok';
        add_header Content-Type text/plain;
    }
    
    # GitHub API endpoints
    location /repos/ {
        default_type application/json;
        try_files $uri $uri.json =404;
    }
    
    # Issues endpoint
    location ~ ^/repos/([^/]+)/([^/]+)/issues$ {
        return 200 '[{"number": 123, "title": "Database connection pool exhausted", "state": "open", "created_at": "2025-06-21T09:00:00Z"}]';
        add_header Content-Type application/json;
    }
    
    # Actions runs endpoint
    location ~ ^/repos/([^/]+)/([^/]+)/actions/runs$ {
        return 200 '{"workflow_runs": [{"id": 1, "name": "CI/CD Pipeline", "conclusion": "success", "created_at": "2025-06-21T08:00:00Z"}]}';
        add_header Content-Type application/json;
    }
}